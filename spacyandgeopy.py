# -*- coding: utf-8 -*-
"""SpacyAndGeopy.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/16hIR5xy_BEdZ78t-gZeMDtJvCZUWGG1B
"""

import spacy
# from pprint import pprint
from spacy import displacy
#from collections import Counter
import en_core_web_sm
nlp = en_core_web_sm.load()


text = 'From NPR News in Washington I\'m ... beer President Trump traveled to Pittsburgh today to visit the synagogue that was the site of a deadly shooting over the weekend and ... more on the president\'s trip. I like Mt. Hood.'
doc = nlp(text)

duos = [(X.text, X.label_) for X in doc.ents]
pprint(duos)
print(duos)

from geopy.geocoders import Nominatim
geolocator = Nominatim()
location = geolocator.geocode("Richmond, IN")
print(location.address)
print((location.latitude, location.longitude))

all = []
for item in duos:
  if item[1] in ('GPE','LOC'):
    location = geolocator.geocode(item[0])
    all.append({'location': item[0],'latitude':location.latitude,'longitude':location.longitude})
print(all)

from geopy.geocoders import Nominatim
import json

geolocator = Nominatim()

showdict = {'The Drive Home With Jillian Barberie & John Phillips': 'Los Angeles, CA', 'The Peter Tilden Show': 'Los Angeles, CA', 'Sam Nation': 'Los Angeles, CA', 'Ben Shapiro': 'Los Angeles, CA', 'McIntyre In the Morning': 'Los Angeles, CA', 'Dr Drew Midday Live with Mike Catherwood': 'Los Angeles, CA', 'Norman Goldman': 'Albuquerque, NM', 'The Thom Hartmann Program': 'Albuquerque, NM', 'The Mike Malloy Show': 'Albuquerque, NM', 'Leslie Marshall': 'Albuquerque, NM', 'Crosscurrents from KALW News': 'San Francisco, CA', 'The Daily': 'Pasadena, CA', 'Q': 'Yuma, AZ', 'Inforum from The Commonwealth Club': 'San Francisco, CA', 'As It Happens (CBC)': 'San Francisco, CA', 'In Deep with Angie Coiro': 'San Francisco, CA', 'Radiolab (NPR)': 'San Francisco, CA', 'BBC World Service': 'Flagstaff, AZ', 'This Way Out': 'San Francisco, CA', 'Morning Edition (NPR)': 'Flagstaff, AZ', 'Fresh Air (NPR)': 'Flagstaff, AZ', 'Your Call': 'San Francisco, CA', '1A Plus': 'Flagstaff, AZ', 'This American Life': 'San Francisco, CA', 'Snap Judgment': 'San Francisco, CA', 'All Things Considered (NPR)': 'Flagstaff, AZ', "PRI's The World": 'Flagstaff, AZ', 'National Native News': 'Yuma, AZ', 'Big Picture Science': 'Yuma, AZ', 'Music of the Masters': 'Yuma, AZ', 'Here and Now (PRI)': 'Flagstaff, AZ', 'Think with Krys Boyd': 'Yuma, AZ', 'Mark Levin Show': 'Tucson, AZ', 'The Joe Harting Show': 'Kachina Village, AZ', 'Coast to Coast AM with George Noory': 'Twin Falls, ID', 'The Glenn Beck Program': 'Houston, TX', 'The Rush Limbaugh Show': 'San Diego, CA', 'The Sean Hannity Show': 'San Diego, CA', 'Ground Zero with Clyde Lewis': 'San Diego, CA', 'Billings Morning News': 'Billings, MT', 'The Joe Pags Show': 'Pueblo, CO', 'The Buck Sexton Show': 'Houston, TX', 'Dan Caplis Show': 'Pueblo, CO', 'Paul Zeise': 'Pittsburgh, PA', 'The Jim Bohannon Show': 'Bismarck-Mandan, ND', 'Red Eye Radio': 'Bismarck-Mandan, ND', 'After Hours with Amy Lawrence': 'Pittsburgh, PA', 'The Fan Morning Show': 'Pittsburgh, PA', 'Cook and Poni': 'Pittsburgh, PA', 'Starkey and Mueller': 'Pittsburgh, PA', 'The Dave Ramsey Show': 'Bismarck-Mandan, ND', 'Performance Today': 'Billings, MT', 'Chamber Music Society': 'Billings, MT', 'Chris Baker Show': 'Omaha, NE', 'John and Ken': 'Los Angeles, CA', 'Tim Conway Jr': 'Los Angeles, CA', 'Bill Handel': 'Los Angeles, CA', 'Gary and Shannon': 'Los Angeles, CA', 'Brett Winterble Show': 'San Diego, CA', "America's Morning News (Washington Times)": 'Bismarck-Mandan, ND', 'Armstrong & Getty': 'San Diego, CA', 'Mike Slater Show': 'San Diego, CA', 'Laura Ingraham Show': 'Cave Creek, AZ', 'The Conservative Circus w James T. Harris': 'Phoenix, AZ', 'The Mike Broomhead Show': 'Phoenix, AZ', 'Marketplace': 'Flagstaff, AZ', 'Classic Jazz with Blaise Lantana ': 'Phoenix, AZ', 'Classic Jazz with Bryan Houston': 'Phoenix, AZ', 'Democracy Now!': 'Kingman, AZ', 'The Bridge': 'Yuma, AZ', 'UnderCurrents': 'Yuma, AZ', 'Crossing Borders': 'Yuma, AZ', 'The Show': 'Phoenix, AZ', 'The Seth Leibsohn Show': 'Phoenix, AZ', 'The Mike Gallagher Show': 'Houston, TX', 'Dennis Prager Show': 'Houston, TX', 'Michael Medved Show': 'Houston, TX', 'Reveal': 'Pueblo, CO', 'AM Idaho': 'Twin Falls, ID', 'Top Story': 'Twin Falls, ID', 'Michael Berry': 'Beaumant, TX', 'Red River Farm Network': 'Bismarck-Mandan, ND', 'News and Veiws, Joel Heitkamp KFGO Fargo, North Dakota': 'Bismarck-Mandan, ND', 'The Marilu Henner Show': 'Bismarck-Mandan, ND', 'Garret Lewis': 'Tucson, AZ', 'Larry Elder Show': 'Houston, TX', 'Jay Sekulow Live!': 'Houston, TX', 'One Life Radio': 'Houston, TX', 'Eric Metaxas Show': 'Houston, TX', 'WoodSongs Old-time Radio Hour': 'Yuma, AZ', 'Global Village': 'Yuma, AZ', 'Jazz with Neil Tesser': 'Yuma, AZ', 'Jazz with Dave Schwan': 'Yuma, AZ', 'The DeMaio Report': 'San Diego, CA', "KOGO's Evening News": 'San Diego, CA', 'KOGO at Night with Chris Merrill': 'San Diego, CA', 'The Frame': 'Pasadena, CA', 'TED Radio Hour': 'Pasadena, CA', 'Take Two': 'Pasadena, CA', 'Airtalk': 'Pasadena, CA', 'Marketplace Tech': 'Pasadena, CA', 'Charles Adams': 'Houston, TX', 'STA Money Hour': 'Houston, TX', 'The Lifestyles Unlimited Real Estate Investor Radio Show': 'Houston, TX', 'The Pursuit of Happiness': 'Houston, TX', 'Jimmy Barrett': 'Houston, TX', 'The Jesse Kelly Show': 'Houston, TX'}


for key in showdict.keys():
  if showdict[key] == 'Beaumant, TX':
    showdict[key] = 'Beaumont, TX'
  location = geolocator.geocode(showdict[key])
  lat_long = (location.latitude, location.longitude)
  showdict[key] = lat_long
#  print(key, showdict[key])

with open('name_lat_long.json','w') as file:
  json.dump(showdict,file)